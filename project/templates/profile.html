{%extends 'base.html' %}
{%load semanticui %}
{%block content%}
<div class="ui internally celled grid">
        <div class="row">
          <div class="four wide column" style="position: relative;">
            <div style="position: absolute;">
              <div class="ui divided items">
                <div class="item">
                  <div class="content">
                    <div class="header">Username</div> 
                    <div class="meta">
                      <span>{{profile.user.username}}</span>
                    </div>
                  </div>
                </div>
                <div class="item">
                  <div class="content">
                    <div class="header">Full Name</div>
                    <div class="meta">
                      <span>{{profile.user.first_name}} {{profile.user.last_name}}</span>
                    </div>
                  </div>
                </div>
                <div class="item">
                  <div class="content">
                    <div class="header">Bio</div>
                    <div class="meta">
                      <span>{{profile.bio}}</span>
                    </div>
                  </div>
                </div>                
                <div class="item">
                  <div class="middle aligned content">
                    <div class="header"> Projects</div>
                    <div class="meta">
                      <span>{{projects|length}}</span>
                    </div>
                  </div>
                </div>
                <div class="item">
                  <div class="middle aligned content">
                    <div class="header">Contacts</div>
                    <div class="meta">
                        <span>Add contacts</span>
                    </div>
                    
                  </div>
                </div>
                <div class="item">
                  <div class="middle aligned content">
                    <div class="ui left pointing dropdown link item">
                      <div class="header" style="font-weight:bold;font-size: 18px;">Manage Profile<i class="caret right icon"></i></div>
                      
                      <div class="menu" style="background-color: black;">
                        <div class="item">
                            <a href="#" class="test button">Add Project</a>
                        </div>
                        <div class="item">
                            <a href="#">Edit Profile</a>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>                                                 
              </div>
              size
                
                
                
            </div>
          </div>
          <div class="eight wide column" style="background-image: url({{profile.profile_pic.url}});  
          background-position:center; background-repeat: no-repeat; background-size: cover;
          height:300px">

          </div>

          <!--OVERALL RATING FOR USER-->
          <div class="four wide column">
                <p>Overall Rating:</p>
                <p><i class="star icon" style="font-size: 100px; padding-top: 50px;"></i></p>
                <p>{{overall_rating|floatformat:'0'}}</p>
                
          </div>
        </div>


        <div class="row" style="margin-top:150px;">

          {%for project in projects%}
          <div class="three wide column" style="background-image: url({{project.project_pic.url}});  
          background-position:center; background-repeat: no-repeat; background-size: cover;
          height:200px">
          <div class="three wide column">
              <a class="ui button" href="{%url 'project_details' project.id%}">Details</a>

          </div>
            
          </div>
          {%endfor%}
          
        </div>


        <!--Modal for Uploading user projects  -->
        <div class="ui modal">
          <div class="header">Add a Project</div>
          <div class="content">
            <form action="{%url 'project_upload' %}" method="POST" enctype="multipart/form-data">
              {%csrf_token%}
              <!---->
              <div class="ui form">
                <div class="field">
                  <label>Name</label>
                  <input type="text" name="name" id="">
                </div>
                <div class="field">
                  <label>Description</label>
                  <textarea type="text" name="description" id=""></textarea>
                </div>
                <div class="field">
                  <label>Cover Image</label>
                    <input type="file" name="project_pic" id="">
                </div>

              </div>
              <button type="submit" class="ui submit button">Add to Profile</button>
            </form>
              
          </div>
        </div>
</div>


{%endblock%}


{%block scripts%}
{{block.super}}
<script>
$('.ui.dropdown')
  .dropdown()
;

$('.ui.rating')
  .rating()
;

$('.ui.modal')
  .modal('attach events', '.test.button', 'show')
;
</script>
{%endblock%}